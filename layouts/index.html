{{ define "main" }}
{{- $page := .Site.GetPage "/main/_index.md" -}}
{{- $params := $page.Params -}}

<div class="jumbotron">
  <div class="container main">
    <div class="desc">
     <div class="row">
      <div class="col-lg-6">
        <div class="title">{{ $params.title | markdownify}}</div>
        <div class="wrapper">
          <div class="subtitle">{{ $params.subtitle | markdownify}}</div>
          <div class="subtitle2">{{ $params.subtitle2 | markdownify}}</div>
        </div>
      </div>
      <div class="col-lg-6">
      <div class="callout code bk-white mlc5 mt-3">
          <div class="content">
              <pre data-src="prism.js" class="language-javascript bk-white font-09">
                <code class="language-javascript">
addon.connectSc("localhost:9003").then(sc => {
    console.log("connect to sc at ", sc.addr());

    sc.findLeader("items", 0).then(leader => {
        leader.consume(emitter.emit.bind(emitter));
    })
    
});
              </code></pre>
          </div>
      </div>      
        <a class="btn btn-info mt-3 mlc5" href="{{ $params.button.link }}">{{ $params.button.label }}</a>
      </div>
      </div>
    </div>
  </div>
</div>

<div class="container main">
  <div class="row">
    {{ range (where .Pages "Type" "main" ) }}
      <div class="col-md-6 col-lg-4">
        <div class="card bg-light">
          <div class="m-3 align-self-center">
            <div class="box-header font-xl">
              <a href="{{ .RelPermalink | relURL}}">{{ .Title | markdownify}}</a>
            </div>

            <img src="/images/{{.Params.image}}" class="mx-auto d-block" width="260" height="130">

            <article class="box-content" style="width: 260px">
              <p>{{ .Summary }}</p>
            </article>

            <center>
              {{/* }}
              <a class="btn btn-info" href="{{ .RelPermalink | relURL }}">Read more...</a>
              {{ */}}
            </center>
          </div>
        </div>
      </div>
    {{ end }}
  </div>
</div>

{{ end }}
